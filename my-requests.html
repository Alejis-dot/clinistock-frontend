<!DOCTYPE html>
<html lang="es"><head><meta charset="UTF-8"><title>Mis Solicitudes - CliniStock</title><link rel="stylesheet" href="style.css"></head><body><div class="panel-container"><header><h1>Mis Solicitudes</h1><a href="solicitar.html" class="header-link">Nueva Solicitud</a></header><table class="solicitudes-tabla"><thead><tr><th>Insumo</th><th>Cantidad</th><th>Fecha</th><th>Estado</th></tr></thead><tbody id="my-requests-body"></tbody></table></div><script>const API_URL='https://clinistock-final.onrender.com',userId=localStorage.getItem('userId');async function cargarMisSolicitudes(){const e=document.getElementById('my-requests-body');if(!userId)return void(e.innerHTML='<tr><td colspan="4" style="text-align:center;">Error: No se encontró el ID de usuario. Por favor, inicie sesión de nuevo.</td></tr>');try{const t=await fetch(`${API_URL}/mis-solicitudes/${userId}`),o=await t.json();if(e.innerHTML='',0===o.length)e.innerHTML='<tr><td colspan="4" style="text-align:center;">No has realizado ninguna solicitud.</td></tr>';else for(const t of o){const o=document.createElement('tr');o.innerHTML=`\n <td>${t.descripcion}</td>\n <td>${t.cantidad_solicitada}</td>\n <td>${new Date(t.fecha_solicitud).toLocaleDateString()}</td>\n <td><span class="status-badge status-${t.estado.toLowerCase()}">${t.estado}</span></td>\n `,e.appendChild(o)}}catch(t){console.error('Error:',t),e.innerHTML='<tr><td colspan="4" style="text-align:center; color: red;">Error al cargar las solicitudes.</td></tr>'}}window.onload=cargarMisSolicitudes;</script></body></html>
